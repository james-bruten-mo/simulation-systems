
<!DOCTYPE html>


<html lang="en" data-content_root="../" data-theme="auto">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Input Variables, Rose Metadata and Upgrade Macros &#8212; Simulation Systems  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "auto";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "auto";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=880b0107" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Development/inputs';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Some basic guidance on Rose metadata" href="metadata_guidance.html" />
    <link rel="prev" title="The JULES User Guide" href="jules_docs.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="auto">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/MO_SQUARE_black_mono_for_light_backg_RBG.png" class="logo__image only-light" alt=""/>
    <img src="../_static/MO_SQUARE_for_dark_backg_RBG.png" class="logo__image only-dark pst-js-only" alt=""/>
  
  
    <p class="title logo__title">Simulation Systems</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../WorkingPractices/working_practices.html">
    Working Practices
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="developing_change.html">
    Developing Your Change
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../Reviewers/index.html">
    Guides for Reviewers
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../FurtherDetails/index.html">
    Further Details
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/MetOffice/simulation-systems/discussions" title="GitHub Discussions" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="far fa-comments fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub Discussions</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/MetOffice/simulation-systems" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../WorkingPractices/working_practices.html">
    Working Practices
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="developing_change.html">
    Developing Your Change
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../Reviewers/index.html">
    Guides for Reviewers
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../FurtherDetails/index.html">
    Further Details
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/MetOffice/simulation-systems/discussions" title="GitHub Discussions" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="far fa-comments fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub Discussions</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/MetOffice/simulation-systems" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Development Checklist</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="planning_your_change.html">Planning Your Change</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="documentation.html">Documentation</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="sphinx_docs.html">Sphinx Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="um_docs.html">Unified Model Documentation Papers (UMDPs)</a></li>
<li class="toctree-l2"><a class="reference internal" href="jules_docs.html">The JULES User Guide</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="current reference internal" href="#">Input Variables, Rose Metadata and Upgrade Macros</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="metadata_guidance.html">Some basic guidance on Rose metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="macros.html">Upgrade Macros</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="kgo.html">Known Good Output (KGO)</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="temp_logicals.html">Temporary Logical Variables</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="diagnostics.html">Diagnostic Systems</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="Diagnostics/um_stashmaster.html">STASH </a></li>
<li class="toctree-l2"><a class="reference internal" href="Diagnostics/lfric_diagnostics.html">LFRic Atmosphere Diagnostics</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="rose_stem.html">Adding to Rose Stem Suites</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="testing.html">Testing Your Change</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="TestSuites/um.html">Testing the UM</a></li>
<li class="toctree-l2"><a class="reference internal" href="TestSuites/lfric_apps.html">Testing LFRic Apps</a></li>
<li class="toctree-l2"><a class="reference internal" href="TestSuites/lfric_core.html">Testing LFRic Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="TestSuites/jules.html">Testing JULES</a></li>
<li class="toctree-l2"><a class="reference internal" href="TestSuites/ukca.html">Testing UKCA</a></li>
<li class="toctree-l2"><a class="reference internal" href="TestSuites/multi-repo_testing.html">Multi-Repository Testing</a></li>
</ul>
</details></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="developing_change.html" class="nav-link">Developing Your Change</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Input Variables, Rose Metadata and Upgrade Macros</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="input-variables-rose-metadata-and-upgrade-macros">
<span id="inputs"></span><h1>Input Variables, Rose Metadata and Upgrade Macros<a class="headerlink" href="#input-variables-rose-metadata-and-upgrade-macros" title="Link to this heading">#</a></h1>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>New UM Ancils must be submitted to the MIAO team for approval. Please
follow their process for <a class="reference external" href="https://code.metoffice.gov.uk/trac/ancil/wiki/ANTS/ProjectManagement/updating_UMDIR">Requesting New UM Ancils</a>.</p>
</div>
<p>Sometimes the developer needs to alter model namelists and input variables. A
common reason is for the inclusion of a new piece of code which has to be
turned off by default.</p>
<p>If a developer changes the namelist inputs they are also expected to alter the
following areas of the code:</p>
<ul class="simple">
<li><p>The inclusion of appropriate defensive checks.</p></li>
<li><p>Changes to Rose metadata.</p></li>
<li><p>Upgrade macros.</p></li>
</ul>
<p>Defensive checks abort the model run if the user sets variables outside of
their expected range or a combination of variables that will lead to an error.
Most namelist modules contain a subroutine which performs this checking and
which can be modified.</p>
<p>The project metadata can be found in the following locations:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" for="sd-tab-item-0">
UM</label><div class="sd-tab-content docutils">
<p><code class="docutils literal notranslate"><span class="pre">&lt;branch_name&gt;/rose-meta/um-atmos/HEAD/rose-meta.conf</span></code></p>
</div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" for="sd-tab-item-1">
JULES</label><div class="sd-tab-content docutils">
<p><code class="docutils literal notranslate"><span class="pre">&lt;branch_name&gt;/rose-meta/*/*/HEAD/rose-meta.conf</span></code></p>
</div>
<input id="sd-tab-item-2" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" for="sd-tab-item-2">
LFRic</label><div class="sd-tab-content docutils">
<p><code class="docutils literal notranslate"><span class="pre">&lt;branch_name&gt;/&lt;sub-module&gt;/rose-meta/*/HEAD/rose-meta.conf</span></code></p>
</div>
</div>
<p>In addition to the above locations, the rose metadata is centrally mirrored on
Met Office systems. This means that metadata that has been committed to
<code class="docutils literal notranslate"><span class="pre">main</span></code> can be accessed without a clone. This may be of use when upgrading
scientific suites between versions.</p>
<p>All new namelist variables need a new entry so that the metadata loads into the
Rose GUI for users to switch it on. Additionally, sometimes the metadata needs
to be modified without changing a namelist variable. Guidance for updating the
metadata <a class="reference internal" href="metadata_guidance.html#metadata-guidance"><span class="std std-ref">is available</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>JULES developers also need to <a class="reference internal" href="jules_docs.html"><span class="doc">update the JULES documentation</span></a> whenever they add or remove namelist variables.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>All changes which alter namelists require an upgrade macro for them to work
with the model.</p>
</div>
<p>Changes to the metadata which don’t involve namelist changes may or may not
require an upgrade macro. If you are unsure whether a change needs an upgrade
macro, then run the following command on your branch:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>rose<span class="w"> </span>stem<span class="w"> </span>--group<span class="o">=</span>scripts
</pre></div>
</div>
<p>If all of the tests pass then there is no requirement to add an upgrade macro.
If any of the metadata tests fail, then the developer should add a blank
upgrade macro which contains no upgrade commands but simply points the rose
stem suite to the new metadata. The SSD team are also available to advise on
whether an upgrade macro is necessary.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>When editing metadata you should always check that the new metadata appears
as expected in the GUI, including testing that invalid settings raise
appropriate warnings. The command to open the GUI is in general:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>rose<span class="w"> </span>edit<span class="w"> </span>-C<span class="w"> </span>rose-stem/app/APP-NAME
</pre></div>
</div>
<p>Note for MetOffice Users: <code class="docutils literal notranslate"><span class="pre">rose</span> <span class="pre">edit</span></code> runs on a server, so make sure your
source can be seen from a server - i.e. not on a drive that’s only available
to your local machine.</p>
<p>For LFRic Apps a few extra changes are required. In your branch (your test
branch if you have an upgrade macro):</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>rose-meta
rose<span class="w"> </span>edit<span class="w"> </span>-C<span class="w"> </span>../rose-stem/app/APP-NAME<span class="w"> </span>--no-warn<span class="w"> </span>version
</pre></div>
</div>
<p>If you have a linked LFRic Core or Jules development with metadata changes,
you can load their metadata by adding
<code class="docutils literal notranslate"><span class="pre">-M</span> <span class="pre">/path/to/working_copy/rose-meta</span></code> to the <code class="docutils literal notranslate"><span class="pre">rose-edit</span></code> command.</p>
</div>
<section id="adding-a-new-lfric-metadata-section">
<h2>Adding a new LFRic Metadata Section<a class="headerlink" href="#adding-a-new-lfric-metadata-section" title="Link to this heading">#</a></h2>
<p>Due to the way lfric metadata is shared, if a new LFRic metadata section is
added, then a few new files are added. A new LFRic metadata section here is
defined as a new directory within an existing or new <code class="docutils literal notranslate"><span class="pre">rose-meta</span></code> directory.
Adding a new metadata section requires:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rose-meta/META-NAME/HEAD/rose-meta.conf</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rose-meta/META-NAME/vnX.Y/rose-meta.conf</span></code> (where <code class="docutils literal notranslate"><span class="pre">X.Y</span></code> is the most
recent released version)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rose-meta/META-NAME/versions.py</span></code></p></li>
<li><p>A symlink from the top-level rose-meta directory to the new directory
(see existing ones for examples)</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">vnX.Y</span></code> and <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> metadata should be identical for this initial
change, other than any import statements, which should point at vnX.Y or HEAD
respectively. Other <code class="docutils literal notranslate"><span class="pre">vnX.Y</span></code> and <code class="docutils literal notranslate"><span class="pre">versionAB_CD.py</span></code> files shouldn’t be
modified or added (these are a snapshot of the metadata at a release).</p>
<p>If a new rose-stem app using the new metadata is also being added, then
a “blank” upgrade macro will also need to be added with a <code class="docutils literal notranslate"><span class="pre">BEFORE_TAG=vnX.Y</span></code>
and a standard <code class="docutils literal notranslate"><span class="pre">AFTER_TAG=vnX.Y_tTTTT</span></code>. This upgrade macro will allow the
new app to be updated to the Head metadata when the branch is merged to <code class="docutils literal notranslate"><span class="pre">main</span></code>.
The <code class="docutils literal notranslate"><span class="pre">rose-app.conf</span></code> for this app will require a metadata import line of
format, <code class="docutils literal notranslate"><span class="pre">meta=META-NAME/vnX.Y</span></code>.</p>
</section>
<section id="how-to-add-an-upgrade-macro-to-your-branch">
<h2>How to add an upgrade macro to your branch<a class="headerlink" href="#how-to-add-an-upgrade-macro-to-your-branch" title="Link to this heading">#</a></h2>
<p>Please see <a class="reference internal" href="macros.html#macros"><span class="std std-ref">this page</span></a> for further information.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>When developing a change that updates the input and/or user interface, then
repeatedly running/reverting the upgrade macro on the dev branch, or
creating many test branches can be tiresome. Consider working up your
change with the new options hard-coded in until such time as you are ready
to connect up to the input for real.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p><strong>Do not</strong> apply the upgrade macro to your dev branch prior to the review
process. Instead you must create a test branch. See <a class="reference internal" href="testing.html#testing"><span class="std std-ref">Testing Your Change</span></a>.</p>
</div>
<div class="toctree-wrapper compound">
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="jules_docs.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">The JULES User Guide</p>
      </div>
    </a>
    <a class="right-next"
       href="metadata_guidance.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Some basic guidance on Rose metadata</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-a-new-lfric-metadata-section">Adding a new LFRic Metadata Section</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-add-an-upgrade-macro-to-your-branch">How to add an upgrade macro to your branch</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

<p class="copyright">
    
    © Crown Copyright, Met Office
    <br/>
    
</p>
</div>
      
    </div>
  
  
    <div class="footer-items__center">
      
        <div class="footer-item">
<div class="tocsection accessibilitylink">
        <a href="../accessibility.html">Accessibility</a>
</div></div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>